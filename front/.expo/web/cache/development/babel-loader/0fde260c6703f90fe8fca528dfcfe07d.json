{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport * as React from 'react';\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport InteractionManager from \"react-native-web/dist/exports/InteractionManager\";\nimport Color from 'color';\nimport CardSheet from \"./CardSheet\";\nimport { PanGestureHandler, GestureState } from \"../GestureHandler\";\nimport CardAnimationContext from \"../../utils/CardAnimationContext\";\nimport getDistanceForDirection from \"../../utils/getDistanceForDirection\";\nimport getInvertedMultiplier from \"../../utils/getInvertedMultiplier\";\nimport memoize from \"../../utils/memoize\";\nvar GESTURE_VELOCITY_IMPACT = 0.3;\nvar TRUE = 1;\nvar FALSE = 0;\nvar GESTURE_RESPONSE_DISTANCE_HORIZONTAL = 50;\nvar GESTURE_RESPONSE_DISTANCE_VERTICAL = 135;\nvar useNativeDriver = Platform.OS !== 'web';\n\nvar Card = function (_React$Component) {\n  _inherits(Card, _React$Component);\n\n  var _super = _createSuper(Card);\n\n  function Card() {\n    var _this;\n\n    _classCallCheck(this, Card);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"isClosing\", new Animated.Value(FALSE));\n\n    _defineProperty(_assertThisInitialized(_this), \"inverted\", new Animated.Value(getInvertedMultiplier(_this.props.gestureDirection)));\n\n    _defineProperty(_assertThisInitialized(_this), \"layout\", {\n      width: new Animated.Value(_this.props.layout.width),\n      height: new Animated.Value(_this.props.layout.height)\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"isSwiping\", new Animated.Value(FALSE));\n\n    _defineProperty(_assertThisInitialized(_this), \"interactionHandle\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"pendingGestureCallback\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"animate\", function (_ref) {\n      var closing = _ref.closing,\n          velocity = _ref.velocity;\n      var _this$props2 = _this.props,\n          gesture = _this$props2.gesture,\n          transitionSpec = _this$props2.transitionSpec,\n          onOpen = _this$props2.onOpen,\n          onClose = _this$props2.onClose,\n          onTransitionStart = _this$props2.onTransitionStart;\n\n      var toValue = _this.getAnimateToValue(_objectSpread({}, _this.props, {\n        closing: closing\n      }));\n\n      var spec = closing ? transitionSpec.close : transitionSpec.open;\n      var animation = spec.animation === 'spring' ? Animated.spring : Animated.timing;\n\n      _this.setPointerEventsEnabled(!closing);\n\n      _this.handleStartInteraction();\n\n      clearTimeout(_this.pendingGestureCallback);\n      onTransitionStart === null || onTransitionStart === void 0 ? void 0 : onTransitionStart({\n        closing: closing\n      });\n      animation(gesture, _objectSpread({}, spec.config, {\n        velocity: velocity,\n        toValue: toValue,\n        useNativeDriver: useNativeDriver,\n        isInteraction: false\n      })).start(function (_ref2) {\n        var finished = _ref2.finished;\n\n        _this.handleEndInteraction();\n\n        clearTimeout(_this.pendingGestureCallback);\n\n        if (finished) {\n          if (closing) {\n            onClose();\n          } else {\n            onOpen();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAnimateToValue\", function (_ref3) {\n      var closing = _ref3.closing,\n          layout = _ref3.layout,\n          gestureDirection = _ref3.gestureDirection;\n\n      if (!closing) {\n        return 0;\n      }\n\n      return getDistanceForDirection(layout, gestureDirection);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setPointerEventsEnabled\", function (enabled) {\n      var _this$contentRef$curr;\n\n      var pointerEvents = enabled ? 'box-none' : 'none';\n      (_this$contentRef$curr = _this.contentRef.current) === null || _this$contentRef$curr === void 0 ? void 0 : _this$contentRef$curr.setNativeProps({\n        pointerEvents: pointerEvents\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleStartInteraction\", function () {\n      if (_this.interactionHandle === undefined) {\n        _this.interactionHandle = InteractionManager.createInteractionHandle();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEndInteraction\", function () {\n      if (_this.interactionHandle !== undefined) {\n        InteractionManager.clearInteractionHandle(_this.interactionHandle);\n        _this.interactionHandle = undefined;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleGestureStateChange\", function (_ref4) {\n      var nativeEvent = _ref4.nativeEvent;\n      var _this$props3 = _this.props,\n          layout = _this$props3.layout,\n          onClose = _this$props3.onClose,\n          onGestureBegin = _this$props3.onGestureBegin,\n          onGestureCanceled = _this$props3.onGestureCanceled,\n          onGestureEnd = _this$props3.onGestureEnd,\n          gestureDirection = _this$props3.gestureDirection,\n          gestureVelocityImpact = _this$props3.gestureVelocityImpact;\n\n      switch (nativeEvent.state) {\n        case GestureState.BEGAN:\n          _this.isSwiping.setValue(TRUE);\n\n          _this.handleStartInteraction();\n\n          onGestureBegin === null || onGestureBegin === void 0 ? void 0 : onGestureBegin();\n          break;\n\n        case GestureState.CANCELLED:\n          {\n            _this.isSwiping.setValue(FALSE);\n\n            _this.handleEndInteraction();\n\n            var velocity = gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? nativeEvent.velocityY : nativeEvent.velocityX;\n\n            _this.animate({\n              closing: _this.props.closing,\n              velocity: velocity\n            });\n\n            onGestureCanceled === null || onGestureCanceled === void 0 ? void 0 : onGestureCanceled();\n            break;\n          }\n\n        case GestureState.END:\n          {\n            _this.isSwiping.setValue(FALSE);\n\n            var distance;\n            var translation;\n\n            var _velocity;\n\n            if (gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted') {\n              distance = layout.height;\n              translation = nativeEvent.translationY;\n              _velocity = nativeEvent.velocityY;\n            } else {\n              distance = layout.width;\n              translation = nativeEvent.translationX;\n              _velocity = nativeEvent.velocityX;\n            }\n\n            var closing = (translation + _velocity * gestureVelocityImpact) * getInvertedMultiplier(gestureDirection) > distance / 2 ? _velocity !== 0 || translation !== 0 : _this.props.closing;\n\n            _this.animate({\n              closing: closing,\n              velocity: _velocity\n            });\n\n            if (closing) {\n              _this.pendingGestureCallback = setTimeout(onClose, 32);\n            }\n\n            onGestureEnd === null || onGestureEnd === void 0 ? void 0 : onGestureEnd();\n            break;\n          }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getInterpolatedStyle\", memoize(function (styleInterpolator, index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) {\n      return styleInterpolator({\n        index: index,\n        current: {\n          progress: current\n        },\n        next: next && {\n          progress: next\n        },\n        closing: _this.isClosing,\n        swiping: _this.isSwiping,\n        inverted: _this.inverted,\n        layouts: {\n          screen: layout\n        },\n        insets: {\n          top: insetTop,\n          right: insetRight,\n          bottom: insetBottom,\n          left: insetLeft\n        }\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"getCardAnimationContext\", memoize(function (index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) {\n      return {\n        index: index,\n        current: {\n          progress: current\n        },\n        next: next && {\n          progress: next\n        },\n        closing: _this.isClosing,\n        swiping: _this.isSwiping,\n        inverted: _this.inverted,\n        layouts: {\n          screen: layout\n        },\n        insets: {\n          top: insetTop,\n          right: insetRight,\n          bottom: insetBottom,\n          left: insetLeft\n        }\n      };\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"contentRef\", React.createRef());\n\n    return _this;\n  }\n\n  _createClass(Card, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.animate({\n        closing: this.props.closing\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this$props4 = this.props,\n          layout = _this$props4.layout,\n          gestureDirection = _this$props4.gestureDirection,\n          closing = _this$props4.closing;\n      var width = layout.width,\n          height = layout.height;\n\n      if (width !== prevProps.layout.width) {\n        this.layout.width.setValue(width);\n      }\n\n      if (height !== prevProps.layout.height) {\n        this.layout.height.setValue(height);\n      }\n\n      if (gestureDirection !== prevProps.gestureDirection) {\n        this.inverted.setValue(getInvertedMultiplier(gestureDirection));\n      }\n\n      if (this.getAnimateToValue(this.props) !== this.getAnimateToValue(prevProps)) {\n        this.animate({\n          closing: closing\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.handleEndInteraction();\n    }\n  }, {\n    key: \"gestureActivationCriteria\",\n    value: function gestureActivationCriteria() {\n      var _this$props5 = this.props,\n          layout = _this$props5.layout,\n          gestureDirection = _this$props5.gestureDirection,\n          gestureResponseDistance = _this$props5.gestureResponseDistance;\n      var distance = gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.vertical) !== undefined ? gestureResponseDistance.vertical : GESTURE_RESPONSE_DISTANCE_VERTICAL : (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.horizontal) !== undefined ? gestureResponseDistance.horizontal : GESTURE_RESPONSE_DISTANCE_HORIZONTAL;\n\n      if (gestureDirection === 'vertical') {\n        return {\n          maxDeltaX: 15,\n          minOffsetY: 5,\n          hitSlop: {\n            bottom: -layout.height + distance\n          }\n        };\n      } else if (gestureDirection === 'vertical-inverted') {\n        return {\n          maxDeltaX: 15,\n          minOffsetY: -5,\n          hitSlop: {\n            top: -layout.height + distance\n          }\n        };\n      } else {\n        var hitSlop = -layout.width + distance;\n        var invertedMultiplier = getInvertedMultiplier(gestureDirection);\n\n        if (invertedMultiplier === 1) {\n          return {\n            minOffsetX: 5,\n            maxDeltaY: 20,\n            hitSlop: {\n              right: hitSlop\n            }\n          };\n        } else {\n          return {\n            minOffsetX: -5,\n            maxDeltaY: 20,\n            hitSlop: {\n              left: hitSlop\n            }\n          };\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          styleInterpolator = _this$props.styleInterpolator,\n          index = _this$props.index,\n          current = _this$props.current,\n          gesture = _this$props.gesture,\n          next = _this$props.next,\n          layout = _this$props.layout,\n          insets = _this$props.insets,\n          overlay = _this$props.overlay,\n          overlayEnabled = _this$props.overlayEnabled,\n          shadowEnabled = _this$props.shadowEnabled,\n          gestureEnabled = _this$props.gestureEnabled,\n          gestureDirection = _this$props.gestureDirection,\n          pageOverflowEnabled = _this$props.pageOverflowEnabled,\n          children = _this$props.children,\n          customContainerStyle = _this$props.containerStyle,\n          contentStyle = _this$props.contentStyle,\n          rest = _objectWithoutProperties(_this$props, [\"styleInterpolator\", \"index\", \"current\", \"gesture\", \"next\", \"layout\", \"insets\", \"overlay\", \"overlayEnabled\", \"shadowEnabled\", \"gestureEnabled\", \"gestureDirection\", \"pageOverflowEnabled\", \"children\", \"containerStyle\", \"contentStyle\"]);\n\n      var interpolatedStyle = this.getInterpolatedStyle(styleInterpolator, index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);\n      var animationContext = this.getCardAnimationContext(index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);\n      var containerStyle = interpolatedStyle.containerStyle,\n          cardStyle = interpolatedStyle.cardStyle,\n          overlayStyle = interpolatedStyle.overlayStyle,\n          shadowStyle = interpolatedStyle.shadowStyle;\n      var handleGestureEvent = gestureEnabled ? Animated.event([{\n        nativeEvent: gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? {\n          translationY: gesture\n        } : {\n          translationX: gesture\n        }\n      }], {\n        useNativeDriver: useNativeDriver\n      }) : undefined;\n\n      var _StyleSheet$flatten = StyleSheet.flatten(contentStyle || {}),\n          backgroundColor = _StyleSheet$flatten.backgroundColor;\n\n      var isTransparent = backgroundColor ? Color(backgroundColor).alpha() === 0 : false;\n      return React.createElement(CardAnimationContext.Provider, {\n        value: animationContext\n      }, React.createElement(Animated.View, {\n        style: {\n          opacity: current\n        },\n        collapsable: false\n      }), React.createElement(View, _extends({\n        pointerEvents: \"box-none\"\n      }, rest), overlayEnabled ? React.createElement(View, {\n        pointerEvents: \"box-none\",\n        style: StyleSheet.absoluteFill\n      }, overlay({\n        style: overlayStyle\n      })) : null, React.createElement(Animated.View, {\n        style: [styles.container, containerStyle, customContainerStyle],\n        pointerEvents: \"box-none\"\n      }, React.createElement(PanGestureHandler, _extends({\n        enabled: layout.width !== 0 && gestureEnabled,\n        onGestureEvent: handleGestureEvent,\n        onHandlerStateChange: this.handleGestureStateChange\n      }, this.gestureActivationCriteria()), React.createElement(Animated.View, {\n        style: [styles.container, cardStyle]\n      }, shadowEnabled && shadowStyle && !isTransparent ? React.createElement(Animated.View, {\n        style: [styles.shadow, gestureDirection === 'horizontal' ? [styles.shadowHorizontal, styles.shadowLeft] : gestureDirection === 'horizontal-inverted' ? [styles.shadowHorizontal, styles.shadowRight] : gestureDirection === 'vertical' ? [styles.shadowVertical, styles.shadowTop] : [styles.shadowVertical, styles.shadowBottom], {\n          backgroundColor: backgroundColor\n        }, shadowStyle],\n        pointerEvents: \"none\"\n      }) : null, React.createElement(CardSheet, {\n        ref: this.contentRef,\n        enabled: pageOverflowEnabled,\n        layout: layout,\n        style: contentStyle\n      }, children))))));\n    }\n  }]);\n\n  return Card;\n}(React.Component);\n\nexport { Card as default };\n\n_defineProperty(Card, \"defaultProps\", {\n  overlayEnabled: Platform.OS !== 'ios',\n  shadowEnabled: true,\n  gestureEnabled: true,\n  gestureVelocityImpact: GESTURE_VELOCITY_IMPACT,\n  overlay: function overlay(_ref5) {\n    var style = _ref5.style;\n    return style ? React.createElement(Animated.View, {\n      pointerEvents: \"none\",\n      style: [styles.overlay, style]\n    }) : null;\n  }\n});\n\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  overlay: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  shadow: {\n    position: 'absolute',\n    shadowRadius: 5,\n    shadowColor: '#000',\n    shadowOpacity: 0.3\n  },\n  shadowHorizontal: {\n    top: 0,\n    bottom: 0,\n    width: 3,\n    shadowOffset: {\n      width: -1,\n      height: 1\n    }\n  },\n  shadowLeft: {\n    left: 0\n  },\n  shadowRight: {\n    right: 0\n  },\n  shadowVertical: {\n    left: 0,\n    right: 0,\n    height: 3,\n    shadowOffset: {\n      width: 1,\n      height: -1\n    }\n  },\n  shadowTop: {\n    top: 0\n  },\n  shadowBottom: {\n    bottom: 0\n  }\n});","map":{"version":3,"sources":["C:/LearnEZ/node_modules/react-navigation-stack/lib/module/vendor/views/Stack/Card.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","keys","ownKeys","object","enumerableOnly","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","value","configurable","writable","React","Color","CardSheet","PanGestureHandler","GestureState","CardAnimationContext","getDistanceForDirection","getInvertedMultiplier","memoize","GESTURE_VELOCITY_IMPACT","TRUE","FALSE","GESTURE_RESPONSE_DISTANCE_HORIZONTAL","GESTURE_RESPONSE_DISTANCE_VERTICAL","useNativeDriver","Platform","OS","Card","args","Animated","Value","props","gestureDirection","width","layout","height","closing","velocity","gesture","transitionSpec","onOpen","onClose","onTransitionStart","toValue","getAnimateToValue","spec","close","open","animation","spring","timing","setPointerEventsEnabled","handleStartInteraction","clearTimeout","pendingGestureCallback","config","isInteraction","start","finished","handleEndInteraction","enabled","_this$contentRef$curr","pointerEvents","contentRef","current","setNativeProps","interactionHandle","undefined","InteractionManager","createInteractionHandle","clearInteractionHandle","nativeEvent","onGestureBegin","onGestureCanceled","onGestureEnd","gestureVelocityImpact","state","BEGAN","isSwiping","setValue","CANCELLED","velocityY","velocityX","animate","END","distance","translation","translationY","translationX","setTimeout","styleInterpolator","index","next","insetTop","insetRight","insetBottom","insetLeft","progress","isClosing","swiping","inverted","layouts","screen","insets","top","right","bottom","left","createRef","prevProps","gestureResponseDistance","vertical","horizontal","maxDeltaX","minOffsetY","hitSlop","invertedMultiplier","minOffsetX","maxDeltaY","_this$props","overlay","overlayEnabled","shadowEnabled","gestureEnabled","pageOverflowEnabled","children","customContainerStyle","containerStyle","contentStyle","rest","interpolatedStyle","getInterpolatedStyle","animationContext","getCardAnimationContext","cardStyle","overlayStyle","shadowStyle","handleGestureEvent","event","StyleSheet","flatten","backgroundColor","isTransparent","alpha","createElement","Provider","View","style","opacity","collapsable","absoluteFill","styles","container","onGestureEvent","onHandlerStateChange","handleGestureStateChange","gestureActivationCriteria","shadow","shadowHorizontal","shadowLeft","shadowRight","shadowVertical","shadowTop","shadowBottom","ref","Component","create","flex","position","shadowRadius","shadowColor","shadowOpacity","shadowOffset"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { Animated, View, StyleSheet, Platform, InteractionManager } from 'react-native';\nimport Color from 'color';\nimport CardSheet from './CardSheet';\nimport { PanGestureHandler, GestureState } from '../GestureHandler';\nimport CardAnimationContext from '../../utils/CardAnimationContext';\nimport getDistanceForDirection from '../../utils/getDistanceForDirection';\nimport getInvertedMultiplier from '../../utils/getInvertedMultiplier';\nimport memoize from '../../utils/memoize';\nconst GESTURE_VELOCITY_IMPACT = 0.3;\nconst TRUE = 1;\nconst FALSE = 0;\n/**\n * The distance of touch start from the edge of the screen where the gesture will be recognized\n */\n\nconst GESTURE_RESPONSE_DISTANCE_HORIZONTAL = 50;\nconst GESTURE_RESPONSE_DISTANCE_VERTICAL = 135;\nconst useNativeDriver = Platform.OS !== 'web';\nexport default class Card extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"isClosing\", new Animated.Value(FALSE));\n\n    _defineProperty(this, \"inverted\", new Animated.Value(getInvertedMultiplier(this.props.gestureDirection)));\n\n    _defineProperty(this, \"layout\", {\n      width: new Animated.Value(this.props.layout.width),\n      height: new Animated.Value(this.props.layout.height)\n    });\n\n    _defineProperty(this, \"isSwiping\", new Animated.Value(FALSE));\n\n    _defineProperty(this, \"interactionHandle\", void 0);\n\n    _defineProperty(this, \"pendingGestureCallback\", void 0);\n\n    _defineProperty(this, \"animate\", ({\n      closing,\n      velocity\n    }) => {\n      const {\n        gesture,\n        transitionSpec,\n        onOpen,\n        onClose,\n        onTransitionStart\n      } = this.props;\n      const toValue = this.getAnimateToValue(_objectSpread({}, this.props, {\n        closing\n      }));\n      const spec = closing ? transitionSpec.close : transitionSpec.open;\n      const animation = spec.animation === 'spring' ? Animated.spring : Animated.timing;\n      this.setPointerEventsEnabled(!closing);\n      this.handleStartInteraction();\n      clearTimeout(this.pendingGestureCallback);\n      onTransitionStart === null || onTransitionStart === void 0 ? void 0 : onTransitionStart({\n        closing\n      });\n      animation(gesture, _objectSpread({}, spec.config, {\n        velocity,\n        toValue,\n        useNativeDriver,\n        isInteraction: false\n      })).start(({\n        finished\n      }) => {\n        this.handleEndInteraction();\n        clearTimeout(this.pendingGestureCallback);\n\n        if (finished) {\n          if (closing) {\n            onClose();\n          } else {\n            onOpen();\n          }\n        }\n      });\n    });\n\n    _defineProperty(this, \"getAnimateToValue\", ({\n      closing,\n      layout,\n      gestureDirection\n    }) => {\n      if (!closing) {\n        return 0;\n      }\n\n      return getDistanceForDirection(layout, gestureDirection);\n    });\n\n    _defineProperty(this, \"setPointerEventsEnabled\", enabled => {\n      var _this$contentRef$curr;\n\n      const pointerEvents = enabled ? 'box-none' : 'none';\n      (_this$contentRef$curr = this.contentRef.current) === null || _this$contentRef$curr === void 0 ? void 0 : _this$contentRef$curr.setNativeProps({\n        pointerEvents\n      });\n    });\n\n    _defineProperty(this, \"handleStartInteraction\", () => {\n      if (this.interactionHandle === undefined) {\n        this.interactionHandle = InteractionManager.createInteractionHandle();\n      }\n    });\n\n    _defineProperty(this, \"handleEndInteraction\", () => {\n      if (this.interactionHandle !== undefined) {\n        InteractionManager.clearInteractionHandle(this.interactionHandle);\n        this.interactionHandle = undefined;\n      }\n    });\n\n    _defineProperty(this, \"handleGestureStateChange\", ({\n      nativeEvent\n    }) => {\n      const {\n        layout,\n        onClose,\n        onGestureBegin,\n        onGestureCanceled,\n        onGestureEnd,\n        gestureDirection,\n        gestureVelocityImpact\n      } = this.props;\n\n      switch (nativeEvent.state) {\n        case GestureState.BEGAN:\n          this.isSwiping.setValue(TRUE);\n          this.handleStartInteraction();\n          onGestureBegin === null || onGestureBegin === void 0 ? void 0 : onGestureBegin();\n          break;\n\n        case GestureState.CANCELLED:\n          {\n            this.isSwiping.setValue(FALSE);\n            this.handleEndInteraction();\n            const velocity = gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? nativeEvent.velocityY : nativeEvent.velocityX;\n            this.animate({\n              closing: this.props.closing,\n              velocity\n            });\n            onGestureCanceled === null || onGestureCanceled === void 0 ? void 0 : onGestureCanceled();\n            break;\n          }\n\n        case GestureState.END:\n          {\n            this.isSwiping.setValue(FALSE);\n            let distance;\n            let translation;\n            let velocity;\n\n            if (gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted') {\n              distance = layout.height;\n              translation = nativeEvent.translationY;\n              velocity = nativeEvent.velocityY;\n            } else {\n              distance = layout.width;\n              translation = nativeEvent.translationX;\n              velocity = nativeEvent.velocityX;\n            }\n\n            const closing = (translation + velocity * gestureVelocityImpact) * getInvertedMultiplier(gestureDirection) > distance / 2 ? velocity !== 0 || translation !== 0 : this.props.closing;\n            this.animate({\n              closing,\n              velocity\n            });\n\n            if (closing) {\n              // We call onClose with a delay to make sure that the animation has already started\n              // This will make sure that the state update caused by this doesn't affect start of animation\n              this.pendingGestureCallback = setTimeout(onClose, 32);\n            }\n\n            onGestureEnd === null || onGestureEnd === void 0 ? void 0 : onGestureEnd();\n            break;\n          }\n      }\n    });\n\n    _defineProperty(this, \"getInterpolatedStyle\", memoize((styleInterpolator, index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) => styleInterpolator({\n      index,\n      current: {\n        progress: current\n      },\n      next: next && {\n        progress: next\n      },\n      closing: this.isClosing,\n      swiping: this.isSwiping,\n      inverted: this.inverted,\n      layouts: {\n        screen: layout\n      },\n      insets: {\n        top: insetTop,\n        right: insetRight,\n        bottom: insetBottom,\n        left: insetLeft\n      }\n    })));\n\n    _defineProperty(this, \"getCardAnimationContext\", memoize((index, current, next, layout, insetTop, insetRight, insetBottom, insetLeft) => ({\n      index,\n      current: {\n        progress: current\n      },\n      next: next && {\n        progress: next\n      },\n      closing: this.isClosing,\n      swiping: this.isSwiping,\n      inverted: this.inverted,\n      layouts: {\n        screen: layout\n      },\n      insets: {\n        top: insetTop,\n        right: insetRight,\n        bottom: insetBottom,\n        left: insetLeft\n      }\n    })));\n\n    _defineProperty(this, \"contentRef\", React.createRef());\n  }\n\n  componentDidMount() {\n    this.animate({\n      closing: this.props.closing\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      layout,\n      gestureDirection,\n      closing\n    } = this.props;\n    const {\n      width,\n      height\n    } = layout;\n\n    if (width !== prevProps.layout.width) {\n      this.layout.width.setValue(width);\n    }\n\n    if (height !== prevProps.layout.height) {\n      this.layout.height.setValue(height);\n    }\n\n    if (gestureDirection !== prevProps.gestureDirection) {\n      this.inverted.setValue(getInvertedMultiplier(gestureDirection));\n    }\n\n    if (this.getAnimateToValue(this.props) !== this.getAnimateToValue(prevProps)) {\n      // We need to trigger the animation when route was closed\n      // Thr route might have been closed by a `POP` action or by a gesture\n      // When route was closed due to a gesture, the animation would've happened already\n      // It's still important to trigger the animation so that `onClose` is called\n      // If `onClose` is not called, cleanup step won't be performed for gestures\n      this.animate({\n        closing\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    this.handleEndInteraction();\n  }\n\n  gestureActivationCriteria() {\n    const {\n      layout,\n      gestureDirection,\n      gestureResponseDistance\n    } = this.props;\n    const distance = gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.vertical) !== undefined ? gestureResponseDistance.vertical : GESTURE_RESPONSE_DISTANCE_VERTICAL : (gestureResponseDistance === null || gestureResponseDistance === void 0 ? void 0 : gestureResponseDistance.horizontal) !== undefined ? gestureResponseDistance.horizontal : GESTURE_RESPONSE_DISTANCE_HORIZONTAL;\n\n    if (gestureDirection === 'vertical') {\n      return {\n        maxDeltaX: 15,\n        minOffsetY: 5,\n        hitSlop: {\n          bottom: -layout.height + distance\n        }\n      };\n    } else if (gestureDirection === 'vertical-inverted') {\n      return {\n        maxDeltaX: 15,\n        minOffsetY: -5,\n        hitSlop: {\n          top: -layout.height + distance\n        }\n      };\n    } else {\n      const hitSlop = -layout.width + distance;\n      const invertedMultiplier = getInvertedMultiplier(gestureDirection);\n\n      if (invertedMultiplier === 1) {\n        return {\n          minOffsetX: 5,\n          maxDeltaY: 20,\n          hitSlop: {\n            right: hitSlop\n          }\n        };\n      } else {\n        return {\n          minOffsetX: -5,\n          maxDeltaY: 20,\n          hitSlop: {\n            left: hitSlop\n          }\n        };\n      }\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          {\n      styleInterpolator,\n      index,\n      current,\n      gesture,\n      next,\n      layout,\n      insets,\n      overlay,\n      overlayEnabled,\n      shadowEnabled,\n      gestureEnabled,\n      gestureDirection,\n      pageOverflowEnabled,\n      children,\n      containerStyle: customContainerStyle,\n      contentStyle\n    } = _this$props,\n          rest = _objectWithoutProperties(_this$props, [\"styleInterpolator\", \"index\", \"current\", \"gesture\", \"next\", \"layout\", \"insets\", \"overlay\", \"overlayEnabled\", \"shadowEnabled\", \"gestureEnabled\", \"gestureDirection\", \"pageOverflowEnabled\", \"children\", \"containerStyle\", \"contentStyle\"]);\n\n    const interpolatedStyle = this.getInterpolatedStyle(styleInterpolator, index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);\n    const animationContext = this.getCardAnimationContext(index, current, next, layout, insets.top, insets.right, insets.bottom, insets.left);\n    const {\n      containerStyle,\n      cardStyle,\n      overlayStyle,\n      shadowStyle\n    } = interpolatedStyle;\n    const handleGestureEvent = gestureEnabled ? Animated.event([{\n      nativeEvent: gestureDirection === 'vertical' || gestureDirection === 'vertical-inverted' ? {\n        translationY: gesture\n      } : {\n        translationX: gesture\n      }\n    }], {\n      useNativeDriver\n    }) : undefined;\n    const {\n      backgroundColor\n    } = StyleSheet.flatten(contentStyle || {});\n    const isTransparent = backgroundColor ? Color(backgroundColor).alpha() === 0 : false;\n    return /*#__PURE__*/React.createElement(CardAnimationContext.Provider, {\n      value: animationContext\n    }, /*#__PURE__*/React.createElement(Animated.View, {\n      style: {\n        // This is a dummy style that doesn't actually change anything visually.\n        // Animated needs the animated value to be used somewhere, otherwise things don't update properly.\n        // If we disable animations and hide header, it could end up making the value unused.\n        // So we have this dummy style that will always be used regardless of what else changed.\n        opacity: current\n      } // Make sure that this view isn't removed. If this view is removed, our style with animated value won't apply\n      ,\n      collapsable: false\n    }), /*#__PURE__*/React.createElement(View, _extends({\n      pointerEvents: \"box-none\"\n    }, rest), overlayEnabled ? /*#__PURE__*/React.createElement(View, {\n      pointerEvents: \"box-none\",\n      style: StyleSheet.absoluteFill\n    }, overlay({\n      style: overlayStyle\n    })) : null, /*#__PURE__*/React.createElement(Animated.View, {\n      style: [styles.container, containerStyle, customContainerStyle],\n      pointerEvents: \"box-none\"\n    }, /*#__PURE__*/React.createElement(PanGestureHandler, _extends({\n      enabled: layout.width !== 0 && gestureEnabled,\n      onGestureEvent: handleGestureEvent,\n      onHandlerStateChange: this.handleGestureStateChange\n    }, this.gestureActivationCriteria()), /*#__PURE__*/React.createElement(Animated.View, {\n      style: [styles.container, cardStyle]\n    }, shadowEnabled && shadowStyle && !isTransparent ? /*#__PURE__*/React.createElement(Animated.View, {\n      style: [styles.shadow, gestureDirection === 'horizontal' ? [styles.shadowHorizontal, styles.shadowLeft] : gestureDirection === 'horizontal-inverted' ? [styles.shadowHorizontal, styles.shadowRight] : gestureDirection === 'vertical' ? [styles.shadowVertical, styles.shadowTop] : [styles.shadowVertical, styles.shadowBottom], {\n        backgroundColor\n      }, shadowStyle],\n      pointerEvents: \"none\"\n    }) : null, /*#__PURE__*/React.createElement(CardSheet, {\n      ref: this.contentRef,\n      enabled: pageOverflowEnabled,\n      layout: layout,\n      style: contentStyle\n    }, children))))));\n  }\n\n}\n\n_defineProperty(Card, \"defaultProps\", {\n  overlayEnabled: Platform.OS !== 'ios',\n  shadowEnabled: true,\n  gestureEnabled: true,\n  gestureVelocityImpact: GESTURE_VELOCITY_IMPACT,\n  overlay: ({\n    style\n  }) => style ? /*#__PURE__*/React.createElement(Animated.View, {\n    pointerEvents: \"none\",\n    style: [styles.overlay, style]\n  }) : null\n});\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1\n  },\n  overlay: {\n    flex: 1,\n    backgroundColor: '#000'\n  },\n  shadow: {\n    position: 'absolute',\n    shadowRadius: 5,\n    shadowColor: '#000',\n    shadowOpacity: 0.3\n  },\n  shadowHorizontal: {\n    top: 0,\n    bottom: 0,\n    width: 3,\n    shadowOffset: {\n      width: -1,\n      height: 1\n    }\n  },\n  shadowLeft: {\n    left: 0\n  },\n  shadowRight: {\n    right: 0\n  },\n  shadowVertical: {\n    left: 0,\n    right: 0,\n    height: 3,\n    shadowOffset: {\n      width: 1,\n      height: -1\n    }\n  },\n  shadowTop: {\n    top: 0\n  },\n  shadowBottom: {\n    bottom: 0\n  }\n});\n//# sourceMappingURL=Card.js.map"]},"metadata":{},"sourceType":"module"}