{"ast":null,"code":"import _defineProperty2 from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar shownWarnings = [];\nvar validations = [{\n  check: function check(o) {\n    return typeof o.headerForceInset === 'object';\n  },\n  deprecated: 'headerForceInset',\n  updated: 'safeAreaInsets',\n  compat: function compat(o) {\n    var headerForceInset = o.headerForceInset,\n        rest = _objectWithoutProperties(o, [\"headerForceInset\"]);\n\n    var safeAreaInsets = {\n      top: 0,\n      bottom: 0,\n      left: 0,\n      right: 0\n    };\n\n    switch (headerForceInset) {\n      case 'top':\n        delete safeAreaInsets.top;\n        break;\n\n      case 'bottom':\n        delete safeAreaInsets.bottom;\n        break;\n\n      case 'left':\n        delete safeAreaInsets.left;\n        break;\n\n      case 'right':\n        delete safeAreaInsets.right;\n        break;\n\n      case 'vertical':\n        delete safeAreaInsets.top;\n        delete safeAreaInsets.bottom;\n        break;\n\n      case 'horizontal':\n        delete safeAreaInsets.left;\n        delete safeAreaInsets.right;\n        break;\n\n      case 'always':\n        safeAreaInsets = undefined;\n        break;\n    }\n\n    return _objectSpread({}, rest, {\n      safeAreaInsets: safeAreaInsets\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.gesturesEnabled !== undefined;\n  },\n  deprecated: 'gesturesEnabled',\n  updated: 'gestureEnabled',\n  compat: function compat(o) {\n    var gesturesEnabled = o.gesturesEnabled,\n        rest = _objectWithoutProperties(o, [\"gesturesEnabled\"]);\n\n    return _objectSpread({}, rest, {\n      gestureEnabled: gesturesEnabled\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.header === null;\n  },\n  deprecated: 'header: null',\n  updated: 'headerShown: false',\n  compat: function compat(o) {\n    var header = o.header,\n        rest = _objectWithoutProperties(o, [\"header\"]);\n\n    return _objectSpread({}, rest, {\n      headerShown: false\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.header != null && typeof o.header !== 'function';\n  },\n  deprecated: 'header: <SomeElement />',\n  updated: 'header: () => <SomeElement />',\n  compat: function compat(o) {\n    return _objectSpread({}, o, {\n      header: function header() {\n        return o.header;\n      }\n    });\n  }\n}, {\n  check: function check(o) {\n    return o.headerTitle !== undefined && typeof o.headerTitle !== 'string' && typeof o.headerTitle !== 'function';\n  },\n  deprecated: 'headerTitle: <SomeElement />',\n  updated: 'headerTitle: () => <SomeElement />',\n  compat: function compat(o) {\n    return _objectSpread({}, o, {\n      headerTitle: function headerTitle() {\n        return o.headerTitle;\n      }\n    });\n  }\n}].concat(_toConsumableArray(['headerLeft', 'headerRight', 'headerBackground', 'headerBackImage'].map(function (p) {\n  return {\n    check: function check(o) {\n      return o[p] !== undefined && typeof o[p] !== 'function';\n    },\n    deprecated: \"\".concat(p, \": <SomeElement />\"),\n    updated: \"\".concat(p, \": () => <SomeElement />\"),\n    compat: function compat(o) {\n      return _objectSpread({}, o, _defineProperty2({}, p, function () {\n        return o[p];\n      }));\n    }\n  };\n})));\nexport default function validateDeprecatedOptions(options) {\n  var result = options;\n  var warnings = [];\n  validations.forEach(function (v) {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\"Deprecation in 'navigationOptions':\\n\".concat(warnings.map(function (v) {\n      return \"- '\".concat(v.deprecated, \"' will be removed in a future version. Use '\").concat(v.updated, \"' instead\");\n    }).join('\\n')));\n  }\n\n  return result;\n}","map":{"version":3,"mappings":"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","names":["shownWarnings","validations","check","o","headerForceInset","deprecated","updated","compat","rest","_objectWithoutProperties","safeAreaInsets","top","bottom","left","right","undefined","gesturesEnabled","gestureEnabled","header","headerShown","headerTitle","map","p","validateDeprecatedOptions","options","result","warnings","forEach","v","process","env","NODE_ENV","includes","push","length","console","warn","join"],"sources":["validateDeprecatedOptions.tsx"],"sourcesContent":["import type { EdgeInsets } from 'react-native-safe-area-context';\nimport type { StackNavigationOptions } from '../vendor/types';\n\ntype Validation = {\n  check: (o: Record<string, any>) => boolean;\n  deprecated: string;\n  updated: string;\n  compat: (o: Record<string, any>) => StackNavigationOptions;\n};\n\nconst shownWarnings: string[] = [];\n\nconst validations: Validation[] = [\n  {\n    check: (o) => typeof o.headerForceInset === 'object',\n    deprecated: 'headerForceInset',\n    updated: 'safeAreaInsets',\n    compat: (o) => {\n      const { headerForceInset, ...rest } = o;\n\n      let safeAreaInsets: Partial<EdgeInsets> | undefined = {\n        top: 0,\n        bottom: 0,\n        left: 0,\n        right: 0,\n      };\n\n      switch (headerForceInset) {\n        case 'top':\n          delete safeAreaInsets.top;\n          break;\n        case 'bottom':\n          delete safeAreaInsets.bottom;\n          break;\n        case 'left':\n          delete safeAreaInsets.left;\n          break;\n        case 'right':\n          delete safeAreaInsets.right;\n          break;\n        case 'vertical':\n          delete safeAreaInsets.top;\n          delete safeAreaInsets.bottom;\n          break;\n        case 'horizontal':\n          delete safeAreaInsets.left;\n          delete safeAreaInsets.right;\n          break;\n        case 'always':\n          safeAreaInsets = undefined;\n          break;\n      }\n\n      return { ...rest, safeAreaInsets };\n    },\n  },\n  {\n    check: (o) => o.gesturesEnabled !== undefined,\n    deprecated: 'gesturesEnabled',\n    updated: 'gestureEnabled',\n    compat: (o) => {\n      const { gesturesEnabled, ...rest } = o;\n\n      return { ...rest, gestureEnabled: gesturesEnabled };\n    },\n  },\n  {\n    check: (o) => o.header === null,\n    deprecated: 'header: null',\n    updated: 'headerShown: false',\n    compat: (o) => {\n      // eslint-disable-next-line @typescript-eslint/no-unused-vars\n      const { header, ...rest } = o;\n\n      return { ...rest, headerShown: false };\n    },\n  },\n  {\n    check: (o) => o.header != null && typeof o.header !== 'function',\n    deprecated: 'header: <SomeElement />',\n    updated: 'header: () => <SomeElement />',\n    compat: (o) => ({ ...o, header: () => o.header }),\n  },\n  {\n    check: (o) =>\n      o.headerTitle !== undefined &&\n      typeof o.headerTitle !== 'string' &&\n      typeof o.headerTitle !== 'function',\n    deprecated: 'headerTitle: <SomeElement />',\n    updated: 'headerTitle: () => <SomeElement />',\n    compat: (o) => ({ ...o, headerTitle: () => o.headerTitle }),\n  },\n  ...['headerLeft', 'headerRight', 'headerBackground', 'headerBackImage'].map(\n    (p): Validation => ({\n      check: (o: any) => o[p] !== undefined && typeof o[p] !== 'function',\n      deprecated: `${p}: <SomeElement />`,\n      updated: `${p}: () => <SomeElement />`,\n      compat: (o) => ({ ...o, [p]: () => o[p] }),\n    })\n  ),\n];\n\nexport default function validateDeprecatedOptions(\n  options: StackNavigationOptions\n) {\n  let result = options;\n\n  const warnings: Validation[] = [];\n\n  // Validate options to show warnings for deprecations\n  validations.forEach((v) => {\n    if (v.check(options)) {\n      result = v.compat(result);\n\n      if (process.env.NODE_ENV !== 'production') {\n        if (shownWarnings.includes(v.deprecated)) {\n          return;\n        }\n\n        warnings.push(v);\n        shownWarnings.push(v.deprecated);\n      }\n    }\n  });\n\n  if (warnings.length) {\n    console.warn(\n      `Deprecation in 'navigationOptions':\\n${warnings\n        .map(\n          (v) =>\n            `- '${v.deprecated}' will be removed in a future version. Use '${v.updated}' instead`\n        )\n        .join('\\n')}`\n    );\n  }\n\n  return result;\n}\n"]},"metadata":{},"sourceType":"module"}